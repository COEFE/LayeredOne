# Firebase Private Key Formats for Vercel

Different formats to try for your FIREBASE_PRIVATE_KEY environment variable in Vercel:

## 1. Standard Format (best for .env.local and most environment variable systems)
This format uses escaped newlines and is wrapped in quotes:

```
"-----BEGIN PRIVATE KEY-----\nMIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQC8qZf/erJPqFnk\nDDdpGKFgsNp2C9yJ7nX33KgSoTM9Fh2HtKjUzRGgPjEq/KLRzU76yv7vfJAe1bnN\nExWeDTWdN5EpY1gioCvtZL1ZQ8qwi8f9ls7r3mJgPo9mGh/cWoVPHPjHPiw46SpT\n9BMZa3So5CNi7uh6l6UYwi/jJBZZgKk9nn8R/dBd6Pl//g7+nt+k2N2va69oyapu\nHgE8Mv4FLOpn/4eoVru/WTwhiZI1ObQ9G1ngVTqy+v+syMQxk48oJ6yi0gm9qaKB\nKep8HdXFKiBxfhssB9C9EarAAQ4pJ6B3hc5DcjnfSdAJsdB6Z5zeGLdIx6yNqbaW\novD02wblAgMBAAECggEAINAkaiBme/lNbR780jAg/Ua1MFvexzSs2ufLabYUydab\nWzt+M8jY/HRkq9PV48SgLHl6/p89F8fXcYYUt/EXNplwC3FGZntSOI9RaYGjcrJV\nHdOJeLesh43J9hmsGfC6h+iDkm/LVDiljoWAfubUGv3W88GWuJ/AbL51gr2Hj5hG\n7QacJJ1bHcUns/3DWW5dkiffOJOX6fUl19CMchi8+JVdG6v1/f9JuA5V3wVqBpDG\nhhzKmsqkHHIrbKafuw+xbdjAj4iTgdZ0eJLrUxxnip4h0fphpl9n8tG7Cp4KPwQS\nw/2uPoTNGXLLnsDYq952Z0dTP/ENQLZdAOe/Snw83wKBgQDs/xjQhhURPdCFPh5h\nQkRVNtOyFR0Y7gNQQ16VuVW/xZpqq4Labi8GLP0qKhRyZk5wtTHD1t/zJ0k794LO\nZ2FtJHoAB1hThS1OxbCU0pDyvzwjdkDG4ggE5reJfFlmwUuvhHraiaRCE0eJVAsZ\nWatRvfXQuTk5R1ZPGzmRfVPO5wKBgQDLylRKXNidotLmHyQ6Nomdbf+/zN3X5tua\nXf2XlXqLjnmK6Kx6J/fa9VjN1DZ5OsiEfxFVdDZADbnriDggwtp5qPwJPqM/vVfh\nWPWowqHK9S63erC+YU98MTqRGk5NsQvRU1ZdSlEMPYT/ch4Tbg8mccUfPdUOrKtW\nhPk68XU+UwKBgH8dJ+MYN46C2CfPNJ4328zU1mDK4Etxxcc0CzRFLs/oHbWe/lVI\nCeLHGJaX8VWWt/XNyb5frsiNRsNqMvegDWpryR/g0KgjYzS/5cE820/H8GqYz4+c\nxm5SjRip4I2zmXOvm/FBKB/klVb8A+P562CxgXoNDrtBHvLZCFyXmu77AoGAezNC\nagJfYk1BOqWw/RBjea06Y/WyWAfU0ynnWXCguSXVDMlFHER1bwXMPgMBO6DyAEfh\nbsvm0Cp8L4wWgpfKBKrIU75uauZI7o8dVHz12wEG0R13JGEn8GjCg15n4EgcYNwE\n5jk7bi7y7ItM62op9o/pH839s/VnT9Lr6Vp4CskCgYB3g8NBEZzKqrJEjbMTo0xT\nsG+UAwoTXdbt1U2LAIPd+/4ELTe6TcsVzcX9JQBdaI/ELgC0ltme1R9v/zysXBBb\nv/DUzX1lT765satMDogYV4RE0VuS2GKnuNJrLGwS9PYSsrvUPIZLvuFm2J65/xPN\nOm3MLGnAhbqyqFhH8g4Dcw==\n-----END PRIVATE KEY-----\n"
```

## 2. Base64 Encoded Format
If you have issues with the private key format, you can use this base64 encoded version.
Set this as FIREBASE_PRIVATE_KEY_BASE64 and update your code to decode it:

```
LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUV2QUlCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktZd2dnU2lBZ0VBQW9JQkFRQzhxWmYvZXJKUHFGbmsKRERkcEdLRmdzTnAyQzl5SjduWDMzS2dTb1RNOUZoMkh0S2pVelJHZ1BqRXEvS0xSelU3Nnl2N3ZmSkFlMWJuTgpFeFdlRFRXZE41RXBZMWdpb0N2dFpMMVpROHF3aThmOWxzN3IzbUpnUG85bUdoL2NXb1ZQSFBqSFBpdzQ2U3BUCjlCTVphM1NvNUNOaTd1aDZsNlVZd2kvakpCWlpnS2s5bm44Ui9kQmQ2UGwvL2c3K250K2syTjJ2YTY5b3lhcHUKSGdFOE12NEZMT3BuLzRlb1ZydS9XVHdoaVpJMU9iUTlHMW5nVlRxeSt2K3N5TVF4azQ4b0o2eWkwZ205cWFLQgpLZXA4SGRYRktpQnhmaHNzQjlDOUVhckFBUTRwSjZCM2hjNURjam5mU2RBSnNkQjZaNXplR0xkSXg2eU5xYmFXCm92RDAyd2JsQWdNQkFBRUNnZ0VBSU5Ba2FpQm1lL2xOYlI3ODBqQWcvVWExTUZ2ZXh6U3MydWZMYWJZVXlkYWIKV3p0K004alkvSFJrcTlQVjQ4U2dMSGw2L3A4OUY4ZlhjWVlVdC9FWE5wbHdDM0ZHWm50U09JOVJhWUdqY3JKVgpIZE9KZUxlc2g0M0o5aG1zR2ZDNmgraURrbS9MVkRpbGpvV0FmdWJVR3YzVzg4R1d1Si9BYkw1MWdyMkhqNWhHCjdRYWNKSjFiSGNVbnMvM0RXVzVka2lmZk9KT1g2ZlVsMTlDTWNoaTgrSlZkRzZ2MS9mOUp1QTVWM3dWcUJwREcKaGh6S21zcWtISElyYkthZnV3K3hiZGpBajRpVGdkWjBlSkxyVXh4bmlwNGgwZnBocGw5bjh0RzdDcDRLUHdRUwp3LzJ1UG9UTkdYTExuc0RZcTk1MlowZFRQL0VOUUxaZEFPZS9Tbnc4M3dLQmdRRHMveGpRaGhVUlBkQ0ZQaDVoClFrUlZOdE95RlIwWTdnTlFRMTZWdVZXL3hacHFxNExhYmk4R0xQMHFLaFJ5Wms1d3RUSEQxdC96SjBrNzk0TE8KWjJGdEpIb0FCMWhUaFMxT3hiQ1UwcER5dnp3amRrREc0Z2dFNXJlSmZGbG13VXV2aEhyYWlhUkNFMGVKVkFzWgpXYXRSdmZYUXVUazVSMVpQR3ptUmZWUE81d0tCZ1FETHlsUktYTmlkb3RMbUh5UTZOb21kYmYrL3pOM1g1dHVhClhmMlhsWHFMam5tSzZLeDZKL2ZhOVZqTjFEWjVPc2lFZnhGVmREWkFEYm5yaURnZ3d0cDVxUHdKUHFNL3ZWZmgKV1BXb3dxSEs5UzYzZXJDK1lVOThNVHFSR2s1TnNRdlJVMVpkU2xFTVBZVC9jaDRUYmc4bWNjVWZQZFVPckt0VwpoUGs2OFhVK1V3S0JnSDhkSitNWU40NkMyQ2ZQTko0MzI4elUxbURLNEV0eHhjYzBDelJGTHMvb0hiV2UvbFZJCkNlTEhHSmFYOFZXV3QvWE55YjVmcnNpTlJzTnFNdmVnRFdwcnlSL2cwS2dqWXpTLzVjRTgyMC9IOEdxWXo0K2MKeG01U2pSaXA0STJ6bVhPdm0vRkJLQi9rbFZiOEErUDU2MkN4Z1hvTkRydEJIdkxaQ0Z5WG11NzdBb0dBZXpOQwphZ0pmWWsxQk9xV3cvUkJqZWEwNlkvV3lXQWZVMHlubldYQ2d1U1hWRE1sRkhFUjFid1hNUGdNQk82RHlBRWZoCmJzdm0wQ3A4TDR3V2dwZktCS3JJVTc1dWF1Wkk3bzhkVkh6MTJ3RUcwUjEzSkdFbjhHakNnMTVuNEVnY1lOd0UKNWprN2JpN3k3SXRNNjJvcDlvL3BIODM5cy9WblQ5THI2VnA0Q3NrQ2dZQjNnOE5CRVp6S3FySkVqYk1UbzB4VApzRytVQXdvVFhkYnQxVTJMQUlQZCsvNEVMVGU2VGNzVnpjWDlKUUJkYUkvRUxnQzBsdG1lMVI5di96eXNYQkJiCnYvRFV6WDFsVDc2NXNhdE1Eb2dZVjRSRTBWdVMyR0tudU5KckxHd1M5UFlTc3J2VVBJWkx2dUZtMko2NS94UE4KT20zTUxHbkFoYnF5cUZoSDhnNERjdz09Ci0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS0K
```

Then in your code, decode it with:

```javascript
const privateKeyBase64 = process.env.FIREBASE_PRIVATE_KEY_BASE64;
const privateKey = Buffer.from(privateKeyBase64, "base64").toString("utf8");
```

## 3. Raw Format with Actual Newlines
Some UI systems (like Vercel's UI) may accept raw input with actual newlines.
Copy and paste this directly into the Vercel environment variable field:

```
-----BEGIN PRIVATE KEY-----
MIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQC8qZf/erJPqFnk
DDdpGKFgsNp2C9yJ7nX33KgSoTM9Fh2HtKjUzRGgPjEq/KLRzU76yv7vfJAe1bnN
ExWeDTWdN5EpY1gioCvtZL1ZQ8qwi8f9ls7r3mJgPo9mGh/cWoVPHPjHPiw46SpT
9BMZa3So5CNi7uh6l6UYwi/jJBZZgKk9nn8R/dBd6Pl//g7+nt+k2N2va69oyapu
HgE8Mv4FLOpn/4eoVru/WTwhiZI1ObQ9G1ngVTqy+v+syMQxk48oJ6yi0gm9qaKB
Kep8HdXFKiBxfhssB9C9EarAAQ4pJ6B3hc5DcjnfSdAJsdB6Z5zeGLdIx6yNqbaW
ovD02wblAgMBAAECggEAINAkaiBme/lNbR780jAg/Ua1MFvexzSs2ufLabYUydab
Wzt+M8jY/HRkq9PV48SgLHl6/p89F8fXcYYUt/EXNplwC3FGZntSOI9RaYGjcrJV
HdOJeLesh43J9hmsGfC6h+iDkm/LVDiljoWAfubUGv3W88GWuJ/AbL51gr2Hj5hG
7QacJJ1bHcUns/3DWW5dkiffOJOX6fUl19CMchi8+JVdG6v1/f9JuA5V3wVqBpDG
hhzKmsqkHHIrbKafuw+xbdjAj4iTgdZ0eJLrUxxnip4h0fphpl9n8tG7Cp4KPwQS
w/2uPoTNGXLLnsDYq952Z0dTP/ENQLZdAOe/Snw83wKBgQDs/xjQhhURPdCFPh5h
QkRVNtOyFR0Y7gNQQ16VuVW/xZpqq4Labi8GLP0qKhRyZk5wtTHD1t/zJ0k794LO
Z2FtJHoAB1hThS1OxbCU0pDyvzwjdkDG4ggE5reJfFlmwUuvhHraiaRCE0eJVAsZ
WatRvfXQuTk5R1ZPGzmRfVPO5wKBgQDLylRKXNidotLmHyQ6Nomdbf+/zN3X5tua
Xf2XlXqLjnmK6Kx6J/fa9VjN1DZ5OsiEfxFVdDZADbnriDggwtp5qPwJPqM/vVfh
WPWowqHK9S63erC+YU98MTqRGk5NsQvRU1ZdSlEMPYT/ch4Tbg8mccUfPdUOrKtW
hPk68XU+UwKBgH8dJ+MYN46C2CfPNJ4328zU1mDK4Etxxcc0CzRFLs/oHbWe/lVI
CeLHGJaX8VWWt/XNyb5frsiNRsNqMvegDWpryR/g0KgjYzS/5cE820/H8GqYz4+c
xm5SjRip4I2zmXOvm/FBKB/klVb8A+P562CxgXoNDrtBHvLZCFyXmu77AoGAezNC
agJfYk1BOqWw/RBjea06Y/WyWAfU0ynnWXCguSXVDMlFHER1bwXMPgMBO6DyAEfh
bsvm0Cp8L4wWgpfKBKrIU75uauZI7o8dVHz12wEG0R13JGEn8GjCg15n4EgcYNwE
5jk7bi7y7ItM62op9o/pH839s/VnT9Lr6Vp4CskCgYB3g8NBEZzKqrJEjbMTo0xT
sG+UAwoTXdbt1U2LAIPd+/4ELTe6TcsVzcX9JQBdaI/ELgC0ltme1R9v/zysXBBb
v/DUzX1lT765satMDogYV4RE0VuS2GKnuNJrLGwS9PYSsrvUPIZLvuFm2J65/xPN
Om3MLGnAhbqyqFhH8g4Dcw==
-----END PRIVATE KEY-----
```

## 4. Single Line Format (without quotes)
For systems that don't support quotes in environment variables:

```
-----BEGIN PRIVATE KEY-----\nMIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQC8qZf/erJPqFnk\nDDdpGKFgsNp2C9yJ7nX33KgSoTM9Fh2HtKjUzRGgPjEq/KLRzU76yv7vfJAe1bnN\nExWeDTWdN5EpY1gioCvtZL1ZQ8qwi8f9ls7r3mJgPo9mGh/cWoVPHPjHPiw46SpT\n9BMZa3So5CNi7uh6l6UYwi/jJBZZgKk9nn8R/dBd6Pl//g7+nt+k2N2va69oyapu\nHgE8Mv4FLOpn/4eoVru/WTwhiZI1ObQ9G1ngVTqy+v+syMQxk48oJ6yi0gm9qaKB\nKep8HdXFKiBxfhssB9C9EarAAQ4pJ6B3hc5DcjnfSdAJsdB6Z5zeGLdIx6yNqbaW\novD02wblAgMBAAECggEAINAkaiBme/lNbR780jAg/Ua1MFvexzSs2ufLabYUydab\nWzt+M8jY/HRkq9PV48SgLHl6/p89F8fXcYYUt/EXNplwC3FGZntSOI9RaYGjcrJV\nHdOJeLesh43J9hmsGfC6h+iDkm/LVDiljoWAfubUGv3W88GWuJ/AbL51gr2Hj5hG\n7QacJJ1bHcUns/3DWW5dkiffOJOX6fUl19CMchi8+JVdG6v1/f9JuA5V3wVqBpDG\nhhzKmsqkHHIrbKafuw+xbdjAj4iTgdZ0eJLrUxxnip4h0fphpl9n8tG7Cp4KPwQS\nw/2uPoTNGXLLnsDYq952Z0dTP/ENQLZdAOe/Snw83wKBgQDs/xjQhhURPdCFPh5h\nQkRVNtOyFR0Y7gNQQ16VuVW/xZpqq4Labi8GLP0qKhRyZk5wtTHD1t/zJ0k794LO\nZ2FtJHoAB1hThS1OxbCU0pDyvzwjdkDG4ggE5reJfFlmwUuvhHraiaRCE0eJVAsZ\nWatRvfXQuTk5R1ZPGzmRfVPO5wKBgQDLylRKXNidotLmHyQ6Nomdbf+/zN3X5tua\nXf2XlXqLjnmK6Kx6J/fa9VjN1DZ5OsiEfxFVdDZADbnriDggwtp5qPwJPqM/vVfh\nWPWowqHK9S63erC+YU98MTqRGk5NsQvRU1ZdSlEMPYT/ch4Tbg8mccUfPdUOrKtW\nhPk68XU+UwKBgH8dJ+MYN46C2CfPNJ4328zU1mDK4Etxxcc0CzRFLs/oHbWe/lVI\nCeLHGJaX8VWWt/XNyb5frsiNRsNqMvegDWpryR/g0KgjYzS/5cE820/H8GqYz4+c\nxm5SjRip4I2zmXOvm/FBKB/klVb8A+P562CxgXoNDrtBHvLZCFyXmu77AoGAezNC\nagJfYk1BOqWw/RBjea06Y/WyWAfU0ynnWXCguSXVDMlFHER1bwXMPgMBO6DyAEfh\nbsvm0Cp8L4wWgpfKBKrIU75uauZI7o8dVHz12wEG0R13JGEn8GjCg15n4EgcYNwE\n5jk7bi7y7ItM62op9o/pH839s/VnT9Lr6Vp4CskCgYB3g8NBEZzKqrJEjbMTo0xT\nsG+UAwoTXdbt1U2LAIPd+/4ELTe6TcsVzcX9JQBdaI/ELgC0ltme1R9v/zysXBBb\nv/DUzX1lT765satMDogYV4RE0VuS2GKnuNJrLGwS9PYSsrvUPIZLvuFm2J65/xPN\nOm3MLGnAhbqyqFhH8g4Dcw==\n-----END PRIVATE KEY-----\n
```

## Verifying Your Key
To verify your key is properly formatted, you can use the test-document-upload.js script:

```bash
node test-document-upload.js
```
